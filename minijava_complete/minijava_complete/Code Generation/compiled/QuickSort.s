	.text
	.globl asm_main
asm_main:
	pushq %rbp
	movq %rsp,%rbp
	pushq %rdi
	movq %rdi,%rcx
	call QS$QS
	movq %rax,%rdi
	movq $10,%rax
	pushq %rax
	movq (%rdi),%rax
	lea 16(%rax),%rax
	call *(%rax)
	popq %rdx
	popq %rdi
	pushq %rdi
	movq %rax,%rdi
	call put
	popq %rdi
	movq %rbp,%rsp
	popq %rbp
	ret 

	.data
QuickSort$$: .quad 0

QS$Start:
	pushq %rbp
	movq %rsp,%rbp
	subq $8,%rsp
	pushq %rdi
	movq %rdi,%rcx
	movq %rdi,%rax
	movq 16(%rbp),%rax
	pushq %rax
	movq (%rdi),%rax
	lea 40(%rax),%rax
	call *(%rax)
	popq %rdx
	popq %rdi
	movq %rax,-8(%rbp)
	pushq %rdi
	movq %rdi,%rcx
	movq %rdi,%rax
	movq (%rdi),%rax
	lea 32(%rax),%rax
	call *(%rax)
	popq %rdi
	movq %rax,-8(%rbp)
	movq $9999,%rax
	pushq %rdi
	movq %rax,%rdi
	call put
	popq %rdi
	movq 16(%rdi),%rax
	pushq %rax
	movq $1,%rax
	popq %rdx
	negq %rax
	addq %rdx,%rax
	movq %rax,-8(%rbp)
	pushq %rdi
	movq %rdi,%rcx
	movq %rdi,%rax
	movq $0,%rax
	pushq %rax
	movq -8(%rbp),%rax
	pushq %rax
	movq (%rdi),%rax
	lea 24(%rax),%rax
	call *(%rax)
	popq %rdx
	popq %rdx
	popq %rdi
	movq %rax,-8(%rbp)
	pushq %rdi
	movq %rdi,%rcx
	movq %rdi,%rax
	movq (%rdi),%rax
	lea 32(%rax),%rax
	call *(%rax)
	popq %rdi
	movq %rax,-8(%rbp)
	movq $0,%rax
	movq %rbp,%rsp
	popq %rbp
	ret 
QS$Sort:
	pushq %rbp
	movq %rsp,%rbp
	subq $64,%rsp
	movq $0,%rax
	movq %rax,-40(%rbp)
	movq 24(%rbp),%rax
	pushq %rax
	movq 16(%rbp),%rax
	popq %rdx
	cmpq %rax,%rdx
	jge else1
	movq 8(%rdi),%rax
	pushq %rax
	movq 16(%rbp),%rax
	popq %rdx
	movq 8(%rdx,%rax,8),%rax
	movq %rax,-8(%rbp)
	movq 24(%rbp),%rax
	pushq %rax
	movq $1,%rax
	popq %rdx
	negq %rax
	addq %rdx,%rax
	movq %rax,-16(%rbp)
	movq 16(%rbp),%rax
	movq %rax,-24(%rbp)
	movq $1,%rax
	movq %rax,-48(%rbp)
test1:
	movq -48(%rbp),%rax
	cmpq $0,%rax
	je done2
	movq $1,%rax
	movq %rax,-56(%rbp)
test2:
	movq -56(%rbp),%rax
	cmpq $0,%rax
	je done3
	movq -16(%rbp),%rax
	pushq %rax
	movq $1,%rax
	popq %rdx
	addq %rdx,%rax
	movq %rax,-16(%rbp)
	movq 8(%rdi),%rax
	pushq %rax
	movq -16(%rbp),%rax
	popq %rdx
	movq 8(%rdx,%rax,8),%rax
	movq %rax,-64(%rbp)
	movq -64(%rbp),%rax
	pushq %rax
	movq -8(%rbp),%rax
	popq %rdx
	cmpq %rax,%rdx
	jl else2
	cmpq $0,%rax
	je else2
	movq $0,%rax
	movq %rax,-56(%rbp)
	jmp done4
else2:
	movq $1,%rax
	movq %rax,-56(%rbp)
done4:
	jmp test2
done3:
	movq $1,%rax
	movq %rax,-56(%rbp)
test3:
	movq -56(%rbp),%rax
	cmpq $0,%rax
	je done5
	movq -24(%rbp),%rax
	pushq %rax
	movq $1,%rax
	popq %rdx
	negq %rax
	addq %rdx,%rax
	movq %rax,-24(%rbp)
	movq 8(%rdi),%rax
	pushq %rax
	movq -24(%rbp),%rax
	popq %rdx
	movq 8(%rdx,%rax,8),%rax
	movq %rax,-64(%rbp)
	movq -8(%rbp),%rax
	pushq %rax
	movq -64(%rbp),%rax
	popq %rdx
	cmpq %rax,%rdx
	jl else3
	cmpq $0,%rax
	je else3
	movq $0,%rax
	movq %rax,-56(%rbp)
	jmp done6
else3:
	movq $1,%rax
	movq %rax,-56(%rbp)
done6:
	jmp test3
done5:
	movq 8(%rdi),%rax
	pushq %rax
	movq -16(%rbp),%rax
	popq %rdx
	movq 8(%rdx,%rax,8),%rax
	movq %rax,-40(%rbp)
	movq -16(%rbp),%rax
	pushq %rax
	movq 8(%rdi),%rax
	pushq %rax
	movq -24(%rbp),%rax
	popq %rdx
	movq 8(%rdx,%rax,8),%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq -24(%rbp),%rax
	pushq %rax
	movq -40(%rbp),%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq -24(%rbp),%rax
	pushq %rax
	movq -16(%rbp),%rax
	pushq %rax
	movq $1,%rax
	popq %rdx
	addq %rdx,%rax
	popq %rdx
	cmpq %rax,%rdx
	jge else4
	movq $0,%rax
	movq %rax,-48(%rbp)
	jmp done7
else4:
	movq $1,%rax
	movq %rax,-48(%rbp)
done7:
	jmp test1
done2:
	movq -24(%rbp),%rax
	pushq %rax
	movq 8(%rdi),%rax
	pushq %rax
	movq -16(%rbp),%rax
	popq %rdx
	movq 8(%rdx,%rax,8),%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq -16(%rbp),%rax
	pushq %rax
	movq 8(%rdi),%rax
	pushq %rax
	movq 16(%rbp),%rax
	popq %rdx
	movq 8(%rdx,%rax,8),%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq 16(%rbp),%rax
	pushq %rax
	movq -40(%rbp),%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	pushq %rdi
	movq %rdi,%rcx
	movq %rdi,%rax
	movq 24(%rbp),%rax
	pushq %rax
	movq -16(%rbp),%rax
	pushq %rax
	movq $1,%rax
	popq %rdx
	negq %rax
	addq %rdx,%rax
	pushq %rax
	movq (%rdi),%rax
	lea 24(%rax),%rax
	call *(%rax)
	popq %rdx
	popq %rdx
	popq %rdi
	movq %rax,-32(%rbp)
	pushq %rdi
	movq %rdi,%rcx
	movq %rdi,%rax
	movq -16(%rbp),%rax
	pushq %rax
	movq $1,%rax
	popq %rdx
	addq %rdx,%rax
	pushq %rax
	movq 16(%rbp),%rax
	pushq %rax
	movq (%rdi),%rax
	lea 24(%rax),%rax
	call *(%rax)
	popq %rdx
	popq %rdx
	popq %rdi
	movq %rax,-32(%rbp)
	jmp done1
else1:
	movq $0,%rax
	movq %rax,-32(%rbp)
done1:
	movq $0,%rax
	movq %rbp,%rsp
	popq %rbp
	ret 
QS$Print:
	pushq %rbp
	movq %rsp,%rbp
	subq $8,%rsp
	movq $0,%rax
	movq %rax,-8(%rbp)
test4:
	movq -8(%rbp),%rax
	pushq %rax
	movq 16(%rdi),%rax
	popq %rdx
	cmpq %rax,%rdx
	jge done8
	movq 8(%rdi),%rax
	pushq %rax
	movq -8(%rbp),%rax
	popq %rdx
	movq 8(%rdx,%rax,8),%rax
	pushq %rdi
	movq %rax,%rdi
	call put
	popq %rdi
	movq -8(%rbp),%rax
	pushq %rax
	movq $1,%rax
	popq %rdx
	addq %rdx,%rax
	movq %rax,-8(%rbp)
	jmp test4
done8:
	movq $0,%rax
	movq %rbp,%rsp
	popq %rbp
	ret 
QS$Init:
	pushq %rbp
	movq %rsp,%rbp
	movq 16(%rbp),%rax
	movq %rax,16(%rdi)
	movq 16(%rbp),%rax
	pushq %rax
	incq %rax
	shlq $3,%rax
	pushq %rdi
	movq %rax,%rdi
	pushq %rax
	call mjmalloc
	popq %rdx
	popq %rdi
	popq %rdx
	movq %rdx,(%rax)
	movq $8,%rcx
	pushq %rax
test5:
	testq $0,%rdx
	je done9
	addq %rcx,%rax
	movq $0,(%rax)
	shlq $2,%rcx
	decq %rdx
	jmp test5
done9:
	popq %rax
	movq %rax,8(%rdi)
	movq $0,%rax
	pushq %rax
	movq $20,%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq $1,%rax
	pushq %rax
	movq $7,%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq $2,%rax
	pushq %rax
	movq $12,%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq $3,%rax
	pushq %rax
	movq $18,%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq $4,%rax
	pushq %rax
	movq $2,%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq $5,%rax
	pushq %rax
	movq $11,%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq $6,%rax
	pushq %rax
	movq $6,%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq $7,%rax
	pushq %rax
	movq $9,%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq $8,%rax
	pushq %rax
	movq $19,%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq $9,%rax
	pushq %rax
	movq $5,%rax
	popq %rdx
	movq 8(%rdi),%rcx
	movq %rax,8(%rcx,%rdx,8)
	movq $0,%rax
	movq %rbp,%rsp
	popq %rbp
	ret 
QS$QS:
	pushq %rbp
	movq %rsp,%rbp
	pushq %rdi
	movq $24,%rdi
	call mjmalloc
	popq %rdi
	leaq QS$$,%rdx
	movq %rdx,(%rax)
	movq $0,8(%rax)
	movq $0,16(%rax)
	movq %rbp,%rsp
	popq %rbp
	ret 

	.data
QS$$: .quad 0
	.quad QS$QS
	.quad QS$Start
	.quad QS$Sort
	.quad QS$Print
	.quad QS$Init
